{"ast":null,"code":"// import React, { useEffect, useState } from 'react'\n// import { Switch, Route, Redirect } from 'react-router-dom'\n// // import { connect } from 'react-redux'\n// import { useDispatch, useSelector } from 'react-redux'\n// // PAGES\n// import HomePage from './pages/homepage/HomePage'\n// import ShopPage from './pages/shopPage/ShopPage'\n// import SignInAndSignUpPage from './pages/sign-in-sign-up/SignInSignUp'\n// import CheckoutPage from './pages/checkoutPage/CheckoutPage'\n// // COMPONENTS\n// import Header from './components/header/Header'\n// // UTILS\n// import {\n//   auth,\n//   createUserProfileDocument,\n//   addCollectionAndDocuments,\n// } from './firebase/firebase.utils'\n// // ACTIONS\n// import { setCurrentUser } from './redux/user/user.actions'\n// // SELECTORS\n// import { selectCurrentUser } from './redux/user/user.selectors'\n// import { selectCollectionsForPreview } from './redux/shop/shop.selectors'\n// // STYLE\n// import './App.css'\n// // class App extends React.Component {\n// const App = () => {\n//   const dispatch = useDispatch()\n//   const [userAuth, setUserAuth] = useState(null)\n//   const currentUser = useSelector(selectCurrentUser)\n//   const collectionsArray = useSelector(selectCollectionsForPreview)\n//   console.log('collectionsArray', collectionsArray)\n//   useEffect(() => {\n//     const unsubscribeFromAuth = auth.onAuthStateChanged(async (userAuth) => {\n//       if (userAuth) {\n//         const userRef = await createUserProfileDocument(userAuth)\n//         setUserAuth(userAuth)\n//         userRef.onSnapshot((snapShot) => {\n//           dispatch(\n//             setCurrentUser({\n//               id: snapShot.id,\n//               ...snapShot.data(),\n//             })\n//           )\n//         })\n//       } else {\n//         dispatch(setCurrentUser(null))\n//       }\n//     })\n//     dispatch(addCollectionAndDocuments('collections', collectionsArray))\n//     return unsubscribeFromAuth\n//   }, [dispatch, collectionsArray])\n//   return (\n//     <div>\n//       <Header />\n//       <Switch>\n//         <Route exact path='/' component={HomePage} />\n//         <Route path='/shop' component={ShopPage} />\n//         <Route\n//           exact\n//           path='/signin'\n//           render={() =>\n//             currentUser ? <Redirect to='/' /> : <SignInAndSignUpPage />\n//           }\n//         />\n//         <Route exact path='/checkout' component={CheckoutPage} />\n//       </Switch>\n//     </div>\n//   )\n// }\n// export default App","map":{"version":3,"sources":["/Users/nicholasdewaal/Documents/code/udemy/complete-react-developer-in-2021/crwn-clothing/src/App.js"],"names":[],"mappings":"AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA","sourcesContent":["\n\n// import React, { useEffect, useState } from 'react'\n// import { Switch, Route, Redirect } from 'react-router-dom'\n// // import { connect } from 'react-redux'\n// import { useDispatch, useSelector } from 'react-redux'\n\n// // PAGES\n// import HomePage from './pages/homepage/HomePage'\n// import ShopPage from './pages/shopPage/ShopPage'\n// import SignInAndSignUpPage from './pages/sign-in-sign-up/SignInSignUp'\n// import CheckoutPage from './pages/checkoutPage/CheckoutPage'\n\n// // COMPONENTS\n// import Header from './components/header/Header'\n\n// // UTILS\n// import {\n//   auth,\n//   createUserProfileDocument,\n//   addCollectionAndDocuments,\n// } from './firebase/firebase.utils'\n\n// // ACTIONS\n// import { setCurrentUser } from './redux/user/user.actions'\n\n// // SELECTORS\n// import { selectCurrentUser } from './redux/user/user.selectors'\n// import { selectCollectionsForPreview } from './redux/shop/shop.selectors'\n\n// // STYLE\n// import './App.css'\n\n// // class App extends React.Component {\n// const App = () => {\n//   const dispatch = useDispatch()\n//   const [userAuth, setUserAuth] = useState(null)\n//   const currentUser = useSelector(selectCurrentUser)\n//   const collectionsArray = useSelector(selectCollectionsForPreview)\n\n//   console.log('collectionsArray', collectionsArray)\n\n//   useEffect(() => {\n//     const unsubscribeFromAuth = auth.onAuthStateChanged(async (userAuth) => {\n//       if (userAuth) {\n//         const userRef = await createUserProfileDocument(userAuth)\n\n//         setUserAuth(userAuth)\n//         userRef.onSnapshot((snapShot) => {\n//           dispatch(\n//             setCurrentUser({\n//               id: snapShot.id,\n//               ...snapShot.data(),\n//             })\n//           )\n//         })\n//       } else {\n//         dispatch(setCurrentUser(null))\n//       }\n//     })\n//     dispatch(addCollectionAndDocuments('collections', collectionsArray))\n\n//     return unsubscribeFromAuth\n//   }, [dispatch, collectionsArray])\n\n//   return (\n//     <div>\n//       <Header />\n//       <Switch>\n//         <Route exact path='/' component={HomePage} />\n//         <Route path='/shop' component={ShopPage} />\n//         <Route\n//           exact\n//           path='/signin'\n//           render={() =>\n//             currentUser ? <Redirect to='/' /> : <SignInAndSignUpPage />\n//           }\n//         />\n//         <Route exact path='/checkout' component={CheckoutPage} />\n//       </Switch>\n//     </div>\n//   )\n// }\n\n// export default App\n"]},"metadata":{},"sourceType":"module"}